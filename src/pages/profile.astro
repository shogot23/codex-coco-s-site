---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";

const items = await getCollection("profile");
const entry = items[0] ?? null;

let Content = null;
if (entry) {
  ({ Content } = await entry.render());
}
---

<Layout title={entry ? entry.data.title : "プロフィール"}>
  <section style="max-width: 720px; margin: 0 auto; line-height: 1.7;">
    <h1>{entry ? entry.data.title : "プロフィール"}</h1>

    {entry?.data?.updatedAt && (
      <p style="opacity: 0.7; font-size: 0.9rem;">
        更新: {entry.data.updatedAt.toLocaleDateString('ja-JP')}
      </p>
    )}

    {Content ? <Content /> : <p>profile コンテンツが見つかりません（src/content/profile/profile.md を確認）</p>}
  </section>
</Layout>

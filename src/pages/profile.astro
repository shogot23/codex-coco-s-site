---
import { getCollection } from "astro:content";

const items = await getCollection("profile");
const entry = items[0] ?? null;

let Content = null;
if (entry) {
  ({ Content } = await entry.render());
}
---

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{entry ? entry.data.title : "プロフィール"}</title>
  </head>
  <body style="max-width: 720px; margin: 40px auto; padding: 0 16px; line-height: 1.7;">
    <h1>{entry ? entry.data.title : "プロフィール"}</h1>

    {entry?.data?.updatedAt && (
      <p style="opacity: 0.7; font-size: 0.9rem;">
        更新: {entry.data.updatedAt}
      </p>
    )}

    {Content ? <Content /> : <p>profile コンテンツが見つかりません（src/content/profile/profile.md を確認）</p>}
  </body>
</html>
